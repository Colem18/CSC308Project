@page "/modifyEventPage"
@inject NavigationManager NavManager

<div class=main>
    <h1 style="margin-bottom: 3%;">
        Modify Event Page
    </h1>    
    <div class=inputRow>
        <p class=labelStyle>Name:</p>
        <RadzenTextBox Name="EventName" @bind-Value=name Style="border: 2px solid #066274; width: 40%;" />
    </div>
    <div class=inputRow>
        <p class=labelStyle>Date:</p>
        <RadzenDatePicker @bind-Value=date Style="border: 2px solid #066274; width: 40%;" />
    </div>
    <div class=inputRow>
        <p class=labelStyle>Address:</p>
        <RadzenTextBox Name="EventAddress" @bind-Value=address Style="border: 2px solid #066274; width: 40%;" />
    </div>
    <div class=inputRow>
        <p class=labelStyle>Description:</p>
        <RadzenTextBox Name="EventDescription" @bind-Value=description Style="border: 2px solid #066274; width: 40%;" />
    </div>
    <div class=inputRow>
        <p class=labelStyle>Image URL:</p>
        <RadzenTextBox Name="EventImage" @bind-Value=imageURL Style="border: 2px solid #066274; width: 40%;" />
    </div>
    <div class=inputRow>
        <p class=labelStyle>Type:</p>
        <RadzenDropDown TValue="string" Data=eventTypes Value=typeString Change=updateDropdown Style="border: 2px solid #066274; width: 40%;" />
    </div>
    
    <div class=buttonRow >
        <RadzenButton Click=@(args => OnCancel()) Text="Cancel" Style="background-color: #066274" />
        <RadzenButton Click=@(args => OnSave()) Text="Save" Style="background-color: #066274" />
    </div>
    
</div>

@code {
    string name;
    DateTime date;
    string address;
    string description;
    string imageURL;
    int type;
    string typeString;
    List<String> eventTypes = new List<String>() { "Religion", "Sports", "Art", "Music" };

    protected override void OnInitialized()
    {
        name = "some event's name";
        date = DateTime.Now;
        address = "Piazza delle Cinque Scole, 23 apt. 2, Rome";
        description = "This is a random description that is just filler.";
        imageURL = "image.png";
        type = 1;
        typeString = "Religion";
    }

    void updateDropdown(object newTypeString)
    {
        type = eventTypes.IndexOf((string)newTypeString) + 1;
    }

    void OnCancel()
    {
        Console.WriteLine("$Update event cancelled!");
    }

    void OnSave()
    {
        Console.WriteLine($"Update event confirmed!");
    }
}
